!function(){"use strict";function t(){}t.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.game.device.desktop?this.game.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=640,this.game.scale.maxHeight=480,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0,this.game.scale.setScreenSize(!0)),this.game.state.start("preloader")}},window["phaser-test2"]=window["phaser-test2"]||{},window["phaser-test2"].Boot=t}(),function(){"use strict";function t(){this.bg=null,this.player=null,this.filter=null,this.escKey=null,this.fullScreen=!1}t.prototype={create:function(){var t=this.game.width/2,e=this.game.height/2;this.scale.fullScreenScaleMode=Phaser.ScaleManager.EXACT_FIT,this.bg=this.add.sprite(0,0,null),this.bg.width=this.game.width,this.bg.height=this.game.height,this.filter=this.add.filter("LightBeam",this.game.width,this.game.height),this.filter.alpha=0,this.bg.filters=[this.filter],this.player=this.add.sprite(t,e,"player"),this.player.anchor.setTo(.5,.5),this.input.onDown.add(this.onInputDown,this),this.escKey=this.input.keyboard.addKey(Phaser.Keyboard.F),this.escKey.onDown.add(this.toggleFullscreen,this,0)},update:function(){var t,e,i,s,a,h,n,r;this.filter.update(),t=this.input.position.x,e=this.input.position.y,i=this.world.centerX,s=this.world.centerY,n=Math.atan2(e-s,t-i)*(180/Math.PI),this.player.angle=n,a=t-i,h=e-s,r=Math.sqrt(a*a+h*h)/100,this.player.scale.x=.6*r,this.player.scale.y=.6*r},toggleFullscreen:function(){this.scale.startFullScreen()},onInputDown:function(){this.game.state.start("menu")}},window["phaser-test2"]=window["phaser-test2"]||{},window["phaser-test2"].Game=t}(),window.onload=function(){"use strict";var t,e=window["phaser-test2"];t=new Phaser.Game(640,480,Phaser.AUTO,"phaser-test2-game"),t.state.add("boot",e.Boot),t.state.add("preloader",e.Preloader),t.state.add("menu",e.Menu),t.state.add("game",e.Game),t.state.start("boot")},function(){"use strict";function t(){this.titleTxt=null,this.startTxt=null,this.bgSprite=null,this.menuMusic=null,this.tunnelFilter=null}t.prototype={create:function(){var t=this.game.width/2,e=this.game.height/2;this.bgSprite=this.add.sprite(0,0,"cobbletexture"),this.bgSprite.width=this.game.width,this.bgSprite.height=this.game.height,this.tunnelFilter=this.add.filter("Tunnel",this.game.width,this.game.height,this.bgSprite.texture),this.tunnelFilter.origin=1,this.bgSprite.filters=[this.tunnelFilter],this.titleTxt=this.add.bitmapText(t,e,"minecraftia","Jueguito de mierda de victor"),this.titleTxt.align="center",this.titleTxt.x=this.game.width/2-this.titleTxt.textWidth/2,e=e+this.titleTxt.height+5,this.startTxt=this.add.bitmapText(t,e,"minecraftia","START"),this.startTxt.align="center",this.startTxt.x=this.game.width/2-this.startTxt.textWidth/2,this.input.onDown.add(this.onDown,this),this.menuMusic=this.add.audio("kiss"),this.menuMusic.play()},update:function(){this.tunnelFilter.update(),this.tunnelFilter.origin+=.001},onDown:function(){this.menuMusic.stop(),this.game.state.start("game")}},window["phaser-test2"]=window["phaser-test2"]||{},window["phaser-test2"].Menu=t}(),function(){"use strict";function t(){this.asset=null,this.ready=!1}t.prototype={preload:function(){this.asset=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader"),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.loadResources()},loadResources:function(){this.load.image("player","assets/player.png"),this.load.image("cobbletexture","assets/cobbletexture.png"),this.load.bitmapFont("minecraftia","assets/minecraftia.png","assets/minecraftia.xml"),this.load.script("marble","bower_components/phaser-official/filters/Tunnel.js"),this.load.script("lightbeam","bower_components/phaser-official/filters/LightBeam.js"),this.load.audio("kiss","assets/kiss.mp3",!0)},create:function(){this.asset.cropEnabled=!1},update:function(){this.ready&&this.game.state.start("menu")},onLoadComplete:function(){this.ready=!0}},window["phaser-test2"]=window["phaser-test2"]||{},window["phaser-test2"].Preloader=t}();